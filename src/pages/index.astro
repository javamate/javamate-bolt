---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import FeaturedProducts from '../components/FeaturedProducts.astro';
import Story from '../components/Story.astro';
import Process from '../components/Process.astro';
import Testimonials from '../components/Testimonials.astro';
import Newsletter from '../components/Newsletter.astro';
import { getContentfulEntries } from '../lib/contentful';

// Fetch featured products from Contentful
const featuredProducts = await getContentfulEntries('product', {
  'fields.featured': true,
  limit: 4,
});
---

<Layout title="Fresh Roasted Coffee | Javamate Coffee Roasters">
  <Hero />
  
  <section class="section bg-white">
    <div class="container-custom">
      <h2 class="text-center mb-12 reveal">Featured Coffees</h2>
      <FeaturedProducts products={featuredProducts} />
      <div class="text-center mt-12">
        <a href="/shop" class="btn-primary">Shop All Coffees</a>
      </div>
    </div>
  </section>
  
  <Story />
  
  <Process />
  
  <section class="section bg-primary-50">
    <div class="container-custom">
      <div class="max-w-3xl mx-auto text-center mb-12 reveal">
        <h2 class="mb-4">Why Choose Javamate?</h2>
        <p class="text-lg text-primary-800">We're passionate about great coffee and believe in doing things right, from seed to cup.</p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 reveal">
        <div class="card p-8 text-center">
          <div class="w-16 h-16 bg-secondary-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-primary-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
          </div>
          <h3 class="text-xl mb-2">Freshly Roasted</h3>
          <p class="text-primary-700">We roast to order to ensure the freshest coffee possible, shipped within 24 hours of roasting.</p>
        </div>
        
        <div class="card p-8 text-center">
          <div class="w-16 h-16 bg-secondary-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-primary-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
            </svg>
          </div>
          <h3 class="text-xl mb-2">Ethically Sourced</h3>
          <p class="text-primary-700">We source from farmers who are paid fairly and practice sustainable agriculture.</p>
        </div>
        
        <div class="card p-8 text-center">
          <div class="w-16 h-16 bg-secondary-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-primary-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7" />
            </svg>
          </div>
          <h3 class="text-xl mb-2">Quality Guaranteed</h3>
          <p class="text-primary-700">If you're not satisfied with your coffee, we'll replace it or refund your purchase.</p>
        </div>
      </div>
    </div>
  </section>
  
  <Testimonials />
  
  <Newsletter />
</Layout>